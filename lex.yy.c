
#include <fcntl.h>
#include "../include/reg.h"	/* for colour macro */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <errno.h>

#define dbg(fmt, arg...) fprintf(stderr, "%s "fmt"\n", __FUNCTION__, ##arg)

FILE *yyout = NULL;	/* default output file */

/* error handle */
void yyerrx(char *str)
{
	if (errno)
		perror(str);
	else
		fprintf(stderr, "ERROR: %s\n", str);
	exit(EXIT_FAILURE);
}

/* yylex() output text stream */
char *yytext;
int yyleng;
int yylineno;
static char *yysmark;		/* start mark for yytext */
static char *yyemark;		/* end mark for yytext */

char *yy_text(void)
{
	return yysmark;
}

int yy_leng(void)
{
	return yyemark - yysmark;
}

/* low-level I/O stream */
#define YY_AHEADSIZE 16
#define YY_BUFSIZE 4096

#define YY_LOOKAHEAD (&yyend[-YY_AHEADSIZE])
#define YY_BUF_START (&yybuf[0])
#define YY_BUF_END (&yybuf[YY_BUFSIZE])

static char yybuf[YY_BUFSIZE];
static char *yyend;		/* current buffer end */
static char *yypos;		/* current position of I/O stream */
static int yyfd = 0;		/* default input file is standard input */
static int yyeof;
static int yyreallineno;
static int yyprevlineno;

void yy_init(void)
{
	yypos = YY_BUF_START;
	*yypos = '\n';		/* first line start anchor `^` */
	yyend = YY_BUF_START + 1;
	yysmark = yyemark = YY_BUF_START;
	yyeof = 0;
	yytext = "";
	yyleng = 0;
	yylineno = 0;
	yyreallineno = 0;
	/* default */
	if (!yyout)
		yyout = stdout;
}

int yy_lookahead(void)
{
	if (yypos < yyend)
		return *yypos;
	else
		return EOF;
}

void yy_save_buf(void)
{
	char *p;
	int marklen;
	int poslen;
	marklen = yyemark - yysmark;
	poslen = yypos - yysmark;

	p = YY_BUF_START;

	while (yysmark < yyend)
		*p++ = *yysmark++;

	yysmark = YY_BUF_START;
	yyemark = yysmark + marklen;
	yypos = yysmark + poslen;
	yyend = p;
}

void yy_fill_buf(void)
{
	int n;
	if (yysmark < yyend)
		yy_save_buf();
	n = read(yyfd, yyend, YY_BUF_END - yyend);
	if (n < 0) {
		yyerrx("read");
	} else if (n > 0) {
		yyend += n;
	} else {
		yyeof = 1;
	}
}

void yy_advance(void)
{
	if (!yyeof && yypos >= YY_LOOKAHEAD)
		yy_fill_buf();
	if (yypos < yyend) {
		if (*yypos == '\n')
			yyreallineno++;
		yypos++;
	}
}

void yy_move_start(void)
{
	yysmark++;
}

void yy_mark_start(void)
{
	yyemark = yysmark = yypos;
	yylineno = yyreallineno;
}

void yy_mark_end(void)
{
	yyprevlineno = yyreallineno;
	yyemark = yypos;
}

void yy_back_end(void)
{
	yyemark--;
}

void yy_back(void)
{
	if (*yypos == '\n')
		yyreallineno--;
	yypos--;
}

void yy_mark_pos(void)
{
	yyreallineno = yyprevlineno;
	yypos = yyemark;
}

#define YY_TERMINAL		'\0'
static char *yytermpos;		/* terminal postion */
static char yytermchar;		/* backup char for original terminal postion */

void yy_term(void)
{
	yytermpos = yypos;
	yytermchar = *yypos;
	*yypos = YY_TERMINAL;
}

void yy_unterm(void)
{
	if (yytermpos) {
		*yytermpos = yytermchar;
		yytermchar = YY_TERMINAL;
		yytermpos = NULL;
	}
}

/* state transition table */
#define yy_next(state, c) com_table[row_map[state]][col_map[c]]


static int row_map[81] = {
   0,   1,   2,   3,   4,   4,   5,   6,
   4,   7,   8,   9,  10,  11,  12,  13,
  14,  15,  16,  17,  18,  19,  20,  21,
  22,  23,  24,  25,  26,  27,  28,  29,
  30,  31,  32,  33,  34,  35,  36,  37,
  38,  39,  40,  41,  42,  43,  44,  45,
  46,  47,  48,  49,  50,  51,  52,  53,
  54,  55,  56,  57,  58,  59,  60,  61,
  62,  63,  64,  65,  66,  67,  68,  69,
  70,  71,  72,  73,  74,  75,  76,  77,
  78,
};

static int col_map[128] = {
   0,   0,   0,   0,   0,   0,   0,   0,
   0,   0,   1,   0,   0,   0,   0,   0,
   0,   0,   0,   0,   0,   0,   0,   0,
   0,   0,   0,   0,   0,   0,   0,   0,
   0,   0,   0,   2,   0,   0,   0,   0,
   0,   0,   3,   0,   0,   0,   0,   4,
   5,   5,   5,   5,   5,   5,   5,   5,
   5,   5,   0,   0,   0,   0,   0,   0,
   0,   0,   0,   0,   0,   6,   7,   0,
   0,   8,   0,   0,   9,   0,   0,   0,
   0,   0,   0,   0,   0,   0,   0,   0,
   0,   0,   0,   0,   0,   0,   0,   0,
   0,  10,  11,  12,  13,  14,  15,  16,
  17,  18,   0,  19,  20,   0,  21,  22,
  23,   0,  24,  25,  26,  27,  28,  29,
   0,  30,  31,   0,   0,   0,   0,   0,
};

static int com_table[79][32] = {
   -1,   -1,    1,   -1,    7,    2,   -1,    9,
   -1,   -1,   -1,   13,   15,   19,   25,   37,
   -1,   -1,   20,   -1,   -1,   -1,   -1,   -1,
   32,   22,   29,   26,   27,   35,   -1,   -1,
    1,   -1,    1,    1,    1,    1,    1,    1,
    1,    1,    1,    1,    1,    1,    1,    1,
    1,    1,    1,    1,    1,    1,    1,    1,
    1,    1,    1,    1,    1,    1,    1,    1,
   -1,   -1,   -1,   -1,   -1,    2,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   16,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
    6,    6,    6,   10,    6,    6,    6,    6,
    6,    6,    6,    6,    6,    6,    6,    6,
    6,    6,    6,    6,    6,    6,    6,    6,
    6,    6,    6,    6,    6,    6,    6,    6,
   -1,   -1,   -1,    6,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   14,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   11,   11,   11,   10,    5,   11,   11,   11,
   11,   11,   11,   11,   11,   11,   11,   11,
   11,   11,   11,   11,   11,   11,   11,   11,
   11,   11,   11,   11,   11,   11,   11,   11,
   11,   11,   11,   10,   -1,   11,   11,   11,
   11,   11,   11,   11,   11,   11,   11,   11,
   11,   11,   11,   11,   11,   11,   11,   11,
   11,   11,   11,   11,   11,   11,   11,   11,
   -1,   -1,   -1,   -1,   -1,   -1,    4,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   48,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   12,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   42,   -1,   -1,   -1,   -1,   -1,
   -1,   34,   -1,   -1,   -1,   -1,   53,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   73,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   43,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,    4,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   33,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,    3,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,    8,
   -1,   -1,   -1,   -1,   -1,   43,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   54,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   55,   45,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   46,   -1,   -1,   23,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   74,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,    8,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   42,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   57,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   36,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   70,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   28,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   24,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   49,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   58,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   60,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   41,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   50,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   18,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   40,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,    8,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,    8,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   69,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
    4,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   61,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,    4,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   66,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   70,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   78,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   59,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,    4,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   30,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,    8,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   52,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   79,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   61,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   67,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   80,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   56,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   43,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   62,   71,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   44,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   17,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   68,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,    8,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   21,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,    8,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   75,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   38,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   39,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   72,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   51,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   43,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   65,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   63,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   64,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   76,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   31,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   61,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,    4,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   47,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   77,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,    8,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   18,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
};



/* accept anchor */
#define YY_NOAC		0
#define YY_AC_START	1
#define YY_AC_END	2
#define YY_AC_BOCH	3
#define YY_AC_NONE	4

static int yyaccept[81] = {
	YY_NOAC,
	YY_AC_NONE,
	YY_AC_NONE,
	YY_AC_NONE,
	YY_AC_NONE,
	YY_AC_NONE,
	YY_NOAC,
	YY_NOAC,
	YY_AC_NONE,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
	YY_NOAC,
};

#define YYF		(-1)
#define ECHO()	fprintf(yyout, "%s", yytext)

int yylex(void)
{
	static int yyfirst = 1;	/* first call yylex() */
	int yystate;		/* current state */
	int yyprev;		/* prev state */
	int yynstate;		/* next state */
	int yylastaccept;	/* last accept state */
	int yyanchor;		/* accept anchor */
	int yylook;		/* gotten char */

	if (yyfirst) {
		yy_init();
		yyfirst = 0;
	}

	/* init */
	yy_unterm();
	yystate = 0;
	yyanchor = 0;
	yylastaccept = 0;
	yy_mark_start();

	while (1) {
		/* get next state according to lookaheah char */
		yylook = yy_lookahead();

		if (yylook == EOF) {
			if (yylastaccept)
				yynstate = YYF;
			else {
				/*
				 * FIXME: some tailing chars will be ignored!
				 */
				yytext = "";
				yyleng = 0;
				return 0;
			}
		} else {
			yynstate = yy_next(yystate, yylook);
		}
		/* dbg("%d -> %d on [%c]", yystate, yynstate, yylook); */

		if (yynstate == YYF) {
			if (yylastaccept)
				yy_mark_pos();
			else
				yy_advance();

			/* handle ^ , $ operator */
			if (yyanchor & YY_AC_START)
				yy_move_start();

			if (yyanchor & YY_AC_END) {
				yy_back_end();
				yy_back();
			}

			yy_mark_end();
			yy_term();
			yytext = yy_text();
			yyleng = yy_leng();

			/* handle accept action */
			switch (yylastaccept) {
			case 1:
				printf(purple(%s), yytext);	/* macro */
				break;
			case 2:
				printf(red(%s), yytext);	/* digit */
				break;
			case 3:
				printf(yellow(%s), yytext);
				break;
			case 4:
				printf(green(%s), yytext);
				break;
			case 5:
				printf(navyblue(%s), yytext);	/* comment */
				break;
			case 8:
				printf(yellow(%s), yytext);
				break;
			default:
				ECHO();
				break;
			}

			yy_unterm();
			yystate = 0;
			yylastaccept = 0;
			yyanchor = 0;
			yy_mark_start();
		} else {
			yy_advance();
			yyanchor = yyaccept[yynstate];
			/* Acceptable? */
			if (yyanchor) {
				yy_mark_end();
				yylastaccept = yynstate;
			}
			yystate = yynstate;
		}
	}
}


int main(int argc, char **argv)
{
	if (argc != 2) {
		fprintf(stderr, "Usage: %s file\n", argv[0]);
		exit(EXIT_FAILURE);
	}
	yyfd = open(argv[1], O_RDONLY);
	yylex();
	return 0;
}
